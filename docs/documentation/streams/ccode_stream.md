---
icon: octicons/file-code-24
---
## C-code stream

Streams generated with c-code format have to be compiled to an
executable file to be useful. Resulting executable should be put in
directory containing other parts of the stream (the same place where
.gits file would be) before playback, alternatively other steam assets
can be put in PATH.

C-code stream is not portable, so it needs to be generated on target
platform.

### Windows {#windows-2}

#### Stream compilation {#itm:streamCompilationWindows}

- All necessary files are in dump stream directory `<GITS_DIR>\dump\<DUMP_NAME>`
- Use `build_ccode.bat` to compile files. Usage:
  ```bash
  build_ccode.bat <type>
  ```
  Type determines how the files will be built. There are two options:
  - vs - building with visual studio
  - ninja - building with ninja build system
- After compilation, ready to use compiled files with gits data files are located 
  in the `<GITS_DIR>\dump\<DUMP_NAME>` directory.

### Linux {#linux-2}

#### Stream compilation {#stream-compilation}

- Copy all .cpp and .h files generated by gits to
  `<GITS_DIR>/CCode/CCodeProject` folder
- Go to `<GITS_DIR>/CCode` and run `./build.linux` bash script
- copy built `CCodeProject` binary to stream folder (it should be in
  `<GITS_DIR>/CCode/bld/` folder)

### Utilitity scripts

Scripts available in `<GITS_DIR>\UtilityScripts`.

#### CCodeDivider

For `Linux`. If the .cpp file produced by gits has more then a couple of
hundred thousand lines compilation can be really slow and can even fail.
Solution is to use CCodeDivider.py script which divides single cpp file
into specified number of files. Running this script without parameters
returns help info.

#### Copying files over the network

For `Windows`. Script `copy_files.bat` can be use to copy compiled files
and other necessary files to run ccode over the network to the specified
address. To use the script copy it to the `<GITS_DIR>\dump\<DUMP_NAME>`
directory. Usage:
  ```bash
  copy_files.bat <address> <user> <password>
  ```

- address - machine address e.g. \\\\111.22.33.44\\e\$\\tmp\\files
- user - machine user
- password - user password

